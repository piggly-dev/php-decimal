<?php
namespace Piggly\Test\Decimal;

use PHPUnit\Framework\TestCase;
use Piggly\Decimal\Decimal;
use Piggly\Decimal\DecimalConfig;

/**
 * @coversDefaultClass \Piggly\Decimal\Decimal
 */
class CosMethodDecimalTest extends TestCase
{
	/**
	 * Setup Decimal configuration.
	 *
	 * @return void
	 */
	protected function setUp () : void
	{
		DecimalConfig
			::instance()
			->set([
				'precision' => 40,
				'rounding' => 4,
				'toExpNeg' => -9e15,
				'toExpPos' => 9e15,
				'maxE' => 9e15,
				'minE' => -9e15
			]);
	}

	/**
	 * Assert if is matching the expected data.
	 *
	 * @covers ::cos
	 * @covers ::cosOf
	 * @covers ::cosine
	 * @test Expecting positive assertion
    * @dataProvider dataSetOne
	 * @param Decimal|integer|float|string $n
	 * @param integer $pr Precision
	 * @param integer $rm Rounding mode
	 * @param string $expected
	 * @return void
	 */
	public function testSetOne (
		$n,
		int $pr,
		int $rm,
		string $expected
	)
	{ 
		DecimalConfig::instance()->set(['precision'=>$pr, 'rounding'=>$rm]);
		$this->assertEquals($expected, (new Decimal($n))->cos()->valueOf()); 
	}
	
	/**
	 * Provider for testSetOne().
	 * @return array
	 */
	public function dataSetOne() : array
	{
		return [
			['NAN', 40, 4, 'NAN'],
			['0', 20, 4, '1'],
			['-0', 20, 4, '1'],
			['INF', 40, 4, 'NAN'],
			['-INF', 40, 4, 'NAN'],

			['0.00006', 10, 2, '0.9999999983'],              // 0.9999999982000000005399999999352000000041657142...
			['0.000000065', 18, 4, '0.999999999999997888'],  // 0.99999999999999788750000000000074377...

			['14044.44444444444', 10, 4, '0.04549771706'],
			['-14044.44444444444', 10, 4, '0.04549771706'],
			['5', 8, 5, '0.28366219'],
			['6723', 3, 3, '0.999'],
			['2.04964', 8, 2, '-0.46075321'],
			['476', 6, 1, '0.0486937'],
			['5298612.00024', 2, 3, '-0.26'],
			['12.5703596425462281326763791506392117455', 8, 4, '0.99999204'],
			['2797', 8, 1, '0.55491269'],
			['0.3834777777', 3, 4, '0.927'],
			['16355.3334', 9, 4, '0.979658167'],
			['0.997737586545708065463833973312637902054356957830033', 5, 5, '0.5422'],
			['7803700', 4, 2, '-0.9032'],
			['841822094288189413002174891207354317', 5, 2, '-0.86017'],
			['67942', 8, 3, '-0.33958641'],
			['899999929799999999999919999999999999999999999999999999999999999999999999.99999', 7, 5, '-0.8773558'],
			['0.00058849862302952064864312588263928354414752285369272291803582192021298679', 10, 6, '0.9999998268'],
			['20000000923980793370370313003363533778888888888.7777777777777777', 9, 4, '-0.801329944'],
			['49.73807738608', 3, 1, '0.864'],
			['88000', 5, 3, '-0.66135'],
			['75465048517642702658117738264729233565816440737178306250850477902340698', 7, 2, '0.4233356'],
			['0.704', 10, 2, '0.7622592047'],
			['0.94828132184399998008581', 6, 5, '0.58308'],
			['0.8', 8, 3, '0.6967067'],
			['0.002', 6, 2, '0.999999'],
			['61688.77777079779777777777777797777777777777777', 1, 4, '0.9'],
			['8111', 7, 2, '0.8296971'],
			['22.1513', 10, 6, '-0.9872031473'],
			['800000000', 8, 2, '-0.98618707'],
			['7332769805669601096865534', 4, 0, '0.8803'],
			['2116627523999999999999999999', 2, 5, '0.58'],
			['16967658790', 8, 4, '0.70645039'],
			['2539668340778777961946252621835163455556224034680348035809827426444170650792306', 8, 2, '-0.49939729'],
			['36', 7, 1, '-0.1279636'],
			['61999992993999.999999999999999999949999999999999994999929999999999992999999999999999999999', 2, 6, '0.99'],
			['0.218944155186302719769455371933055277727070161042429', 10, 4, '0.9761273219'],
			['20', 2, 3, '0.4'],
			['173215504685358227465651988', 10, 4, '-0.671213895'],
			['5769000000000.2222222222222222', 10, 3, '0.4282801932'],
			['0.5', 3, 1, '0.877'],
			['5000000000053', 5, 6, '0.85063'],
			['281084', 5, 6, '0.83761'],
			['80.6', 9, 2, '0.470085225'],
			['447162', 7, 4, '0.9642869'],
			['6856.6636666666626606066666', 6, 6, '-0.137265'],
			['7.37514', 7, 4, '0.4607514'],
			['1.29', 3, 4, '0.277'],
			['9', 10, 5, '-0.9111302619'],
			['5067', 4, 0, '-0.9254'],
			['482222222222.62217863079410578', 3, 1, '-0.997'],
			['4.2202926299999999999959999999999999999999999999999999990999999999999999999999', 10, 6, '-0.4724745315'],
			['24714170816959', 8, 1, '-0.99806747'],
			['31365220956895733422', 5, 3, '0.99149'],
			['377469441384376095492196870000863.83493122', 1, 0, '0.8'],
			['0.1175', 1, 1, '0.9'],
			['223953406565183766798339942076619761', 5, 4, '0.77106'],
			['9.4', 7, 0, '-0.9996931'],
			['67777777777777733221519976680533200000000000', 7, 4, '0.883886'],
			['3', 7, 0, '-0.9899925'],
			['99127.77777', 8, 3, '-0.44933878'],
			['95555555550.5555555515555555555555555555550055555555555560555555559', 3, 0, '0.0823'],
			['1.3830713', 3, 5, '0.187'],
			['59', 9, 5, '-0.771080223'],
			['1.1', 7, 1, '0.4535961'],
			['1090000000000000000000000000000000000050000000.00004', 4, 1, '0.9972'],
			['8', 1, 6, '-0.1'],
			['43019456219304869332859776', 8, 1, '-0.99906433'],
			['0.0000003104573823727508545651739730202238202717472186710001424', 7, 4, '1'],
			['81888888888.5555555555555555511111111111111111114304', 8, 6, '0.86581506'],
			['848765718488021014558633685913717744363956181398886593', 5, 0, '-0.97123'],
			['0.4338', 69, 3, '0.907375081713258312704647471639381401468307894324094984616218937905432'],
			['6647167168310148646127', 41, 1, '-0.67876552621688089570465682794229097436017'],
			['14', 44, 5, '0.13673721820783359424892887667173824055164518'],
			['0.815', 74, 3, '0.68586839345673735262969403373783813324713582642679411838288343756307680681'],
			['52666376666220.66', 8, 2, '-0.46217165'],
			['0.1', 58, 6, '0.9950041652780257660955619878038702948385762254150840359594'],
			['5.481638560270924097', 46, 5, '0.6955963080641265200604938991229596548878269881'],
			['616019185645542611168895104511361.514', 73, 0, '-0.9897418432019178091874564214082330932214823767149588163455308944210649199'],
			['58872.6729', 27, 5, '0.71551991401684231627099417'],
			['0.00000000986995340365791470449236832278868084019660524206930178008', 33, 1, '0.999999999999999951292009904810772'],
			['200000000000000000000', 24, 1, '0.167301557725715824849981'],
			['8712357290413741268816184846819797318515482698552148280140735653', 57, 0, '-0.279047254515165435013067136950333012052507338721363544685'],
			['0.0177165009539797142337288907', 37, 1, '0.9998430669018118198896427823538202954'],
			['255555555555555775027123062979747796598651156132669853568621902', 14, 2, '-0.99883756464211'],
			['3741565840746605.71876151239588', 15, 0, '-0.930123581114026'],
			['3050000000000000000000200000000000000000000.0000000000000000000000008', 41, 3, '-0.33127228153577434134804953378906485886176'],
			['0.33482', 27, 4, '0.944469472783453774254728912'],
			['0.1979574070039662', 30, 0, '0.980470333633282159348863278164'],
			['960492.3601219999999', 74, 6, '0.78272168046024997208016985369610426247753755795663609587331768113997535495'],
			['0.1145342', 57, 0, '0.993448125551484394628225244895937689399175688856818869855'],
			['99999999999999999999999.99', 70, 0, '-0.7059760628345569635155393670172360201795320597371430862306924466086157'],
			['0.10859933721171128209598967066', 80, 4, '0.99410888528803407646108267824473898405842663808987770888683180574685964084716924'],
			['2813920.875088303362819', 33, 2, '-0.866254989781355498995879756871368'],
			['35999999999999999999999999999999999999999.999999999999999999999999919', 38, 3, '-0.9562598584240982386154988349219959087'],
		];
	}
}