<?php
namespace Piggly\Test\Decimal;

use PHPUnit\Framework\TestCase;
use Piggly\Decimal\Decimal;
use Piggly\Decimal\DecimalConfig;
use RuntimeException;
use stdClass;

/**
 * @coversDefaultClass \Piggly\Decimal\Decimal
 */
class NegMethodDecimalTest extends TestCase
{
	/**
	 * Setup Decimal configuration.
	 *
	 * @return void
	 */
	protected function setUp () : void
	{
		DecimalConfig
			::instance()
			->set([
				'precision' => 20,
				'rounding' => 4,
				'toExpNeg' => -7,
				'toExpPos' => 21,
				'maxE' => 9e15,
				'minE' => -9e15
			]);
	}

	/**
	 * Assert if is matching the expected data.
	 *
	 * @covers ::negated
	 * @covers ::neg
	 * @test Expecting positive assertion
    * @dataProvider dataSetOne
	 * @param string $expected
	 * @param Decimal|integer|float|string $n
	 * @return void
	 */
	public function testSetOne (
		string $expected,
		$n
	)
	{ $this->assertEquals($expected, (new Decimal($n))->neg()->valueOf()); }

	/**
	 * Assert if is matching the expected data.
	 *
	 * @covers ::negated
	 * @covers ::neg
	 * @test Expecting positive assertion
    * @dataProvider dataSetTwo
	 * @param string $expected
	 * @param Decimal|integer|float|string $n
	 * @return void
	 */
	public function testSetTwo (
		string $expected,
		$n
	)
	{ 
		DecimalConfig::instance()->set(['toExpNeg'=>0, 'toExpPos'=>0]);
		$this->assertEquals($expected, (new Decimal($n))->neg()->valueOf()); 
	}
	
	/**
	 * Provider for testSetOne().
	 * @return array
	 */
	public function dataSetOne() : array
	{
		return [		
			['-4', 4],
			['-2147483648', 2147483648],
			['-0.25', 0.25],
			['-0.0625', 0.0625],
			['-1', 1],
			['1', -1],
			['-0', 0],
			['0', '-0'],
			['-0', '0'],
			['0', '-0'],
			['NAN', NAN],
			['NAN', 'NAN'],
			['-INF', INF],
			['INF', -INF],
			['-INF', 'INF'],
			['INF', '-INF'],

			['-9.99e+9000000000000000', '9.99e+9000000000000000'],
			['9.99e+9000000000000000', '-9.99e+9000000000000000'],
			['-INF', '1e+9000000000000001'],
			['INF', '-1e+9000000000000001'],
			['-1e-9000000000000000', '1e-9000000000000000'],
			['1e-9000000000000000', '-1e-9000000000000000'],
			['0', '-1e-9000000000000001'],

			['-238', '238'],
			['1.3e-11', '-0.000000000013'],
			['-33.1', '33.1'],
			['2.61', '-2.61'],
			['-4', '4.0'],
			['-5.8', '5.8'],
			['-3.52e-7', '0.000000352'],
			['190', '-190'],
			['4.47', '-4.47'],
			['6.9525e-12', '-0.0000000000069525'],
			['1.3', '-1.3'],
			['-6.21', '6.21'],
			['2', '-2'],
			['-1', '1'],
			['147.857', '-147.857'],
			['-26.517', '26.517'],
			['-3', '3'],
			['5', '-5'],
			['204', '-204'],
			['2.1e-8', '-0.000000021'],
			['3.7015e-7', '-0.00000037015'],
			['-50.1839', '50.1839'],
			['44768.1', '-44768.1'],
			['3.8e-15', '-0.0000000000000038'],
			['-7.4379', '7.4379'],
			['1.5', '-1.5'],
			['6.0399', '-6.0399'],
			['109.07', '-109.070'],
			['1582', '-1582'],
			['-772', '772'],
			['-6.7824e-14', '0.000000000000067824'],
			['-1.819e-8', '0.00000001819'],
			['-3e-15', '0.0000000000000030'],
			['-424120', '424120'],
			['-1814.54', '1814.54'],
			['-4.295e-17', '0.00000000000000004295'],
			['-5', '5'],
			['2152', '-2152'],
			['4.6', '-4.6'],
			['1.9', '-1.9'],
			['-2', '2.0'],
			['-0.00036', '0.00036'],
			['-0.000006962', '0.000006962'],
			['3.6', '-3.6'],
			['-1.1495e-14', '0.000000000000011495'],
			['-312.4', '312.4'],
			['4.3e-10', '-0.00000000043'],
			['5', '-5'],
			['-1.8911e-8', '0.000000018911'],
			['4963.53', '-4963.53'],
			['-4.3934e-10', '0.00000000043934'],
			['-1.3', '1.30'],
			['-1', '1.0'],
			['-68.32', '68.32'],
			['0.014836', '-0.014836'],
			['8', '-8'],
			['2.1351', '-2.13510'],
			['162224', '-162224'],
			['3e-19', '-0.00000000000000000030'],
			['0.00004985', '-0.00004985'],
			['28.9321', '-28.9321'],
			['-2', '2'],
			['-16688', '16688'],
			['-1', '1'],
			['5', '-5'],
			['-20', '20.0'],
			['-1.9', '1.9'],
			['3', '-3'],
			['185640', '-185640'],
			['-0.0000058', '0.0000058'],
			['9.67e-13', '-0.000000000000967'],
			['-707.98', '707.98'],
			['2.57917', '-2.57917'],
			['-1.3', '1.3'],
			['-4.2655', '4.2655'],
			['-149.6', '149.6'],
			['-1.32383', '1.32383'],
			['-26.925', '26.925'],
			['-0.00013', '0.00013'],
			['-6868', '6868'],
			['7', '-7'],
			['-5e-9', '0.0000000050'],
			['3.2555e-16', '-0.00000000000000032555'],
			['1.42768e-13', '-0.000000000000142768'],
			['11.2962', '-11.2962'],
			['3186.7', '-3186.7'],
			['-6.9', '6.9'],
			['-6.2618e-7', '0.00000062618'],
			['8', '-8'],
			['-8.04', '8.04'],
			['-22', '22'],
			['-750.6', '750.6'],
			['12.803', '-12.803'],
			['-20513.4', '20513.4'],
			['114781', '-114781'],
			['-16.9046', '16.9046'],
			['4.6e-7', '-0.00000046'],
			['-31399', '31399'],
			['1.04', '-1.04'],
			['-51.2544', '51.2544'],
			['1.023e-15', '-0.000000000000001023'],
			['281', '-281'],
			['-128315', '128315'],
			['20.2', '-20.2'],
			['9', '-9'],
			['-10', '10'],
			['-1.92262e-17', '0.0000000000000000192262'],
			['-0.0023', '0.0023'],
			['5', '-5'],
			['7', '-7'],
			['13.72', '-13.72'],
			['98068', '-98068'],
			['3.2', '-3.2'],
			['1.1', '-1.1'],
			['-3.97e-18', '0.000000000000000003970'],
			['0.00334824', '-0.00334824'],
			['-5.4892e-8', '0.000000054892'],
			['-1', '1.0'],
			['-2.8135e-8', '0.000000028135'],
			['-1.816e-13', '0.0000000000001816'],
			['199724', '-199724'],
			['-19.4', '19.40'],
			['-12.74', '12.74'],
			['-2171.8', '2171.8'],
			['-2.7', '2.7'],
			['1', '-1.0'],
			['21779', '-21779'],
			['8.9e-12', '-0.0000000000089'],
			['-4.51', '4.51'],
			['2.6', '-2.6'],
			['-0.00016', '0.000160'],
			['6', '-6'],
			['50.566', '-50.566'],
			['-16.2', '16.2'],
			['-9444', '9444'],
			['21.4', '-21.4'],
			['2.5', '-2.5'],
			['489311', '-489311'],
			['6.8', '-6.8'],
			['4.29', '-4.29'],
			['23982', '-23982.0'],
			['-0.0111781', '0.0111781'],
			['4.96e-20', '-0.0000000000000000000496'],
			['-40.5481', '40.5481'],
			['-32.52', '32.52'],
			['-7.4', '7.4'],
			['-5', '5.0'],
			['-2463.4', '2463.4'],
			['7.363', '-7.363'],
			['2.8', '-2.8'],
			['-14498', '14498'],
			['201', '-201'],	
		];
	}
	
	/**
	 * Provider for testSetTwo().
	 * @return array
	 */
	public function dataSetTwo() : array
	{
		return [
			['-5.0600621890668482322956892808849303e+20', '5.0600621890668482322956892808849303e+20'],
			['7e+0', '-7e+0'],
			['-6.1095374220609e+13', '6.1095374220609e+13'],
			['9.01e+2', '-9.01e+2'],
			['-1.016984074247269470395836690098169093010136836967e+39', '1.016984074247269470395836690098169093010136836967e+39'],
			['-1.497639134680472576e+18', '1.497639134680472576e+18'],
			['-4.1717657571404248e+16', '4.1717657571404248e+16'],
			['8.983272e+1', '-8.983272e+1'],
			['-5.308416e+6', '5.308416e+6'],
			['-2.09764e+3', '2.09764e+3'],
			['-3.83432050166120236679168e+23', '3.83432050166120236679168e+23'],
			['-4.096e+3', '4.096e+3'],
			['2.679971527468745095582058350756311201706813294321409e+51', '-2.679971527468745095582058350756311201706813294321409e+51'],
			['-5.067853299870089529116832768e+2', '5.067853299870089529116832768e+2'],
			['-3.48822062687911109850066182676769e+32', '3.48822062687911109850066182676769e+32'],
			['-1e+0', '1e+0'],
			['4.2773e+0', '-4.2773e+0'],
			['5.8169306081172252508071119604378757744768e+12', '-5.8169306081172252508071119604378757744768e+12'],
			['-1e+0', '1e+0'],
			['1.51655708279450944384385164853883404204414169862685507e+46', '-1.51655708279450944384385164853883404204414169862685507e+46'],
			['-8.1e+1', '8.1e+1'],
			['-1.296e+3', '1.296e+3'],
			['-2.9e+0', '2.9e+0'],
			['-1.764e+3', '1.764e+3'],
			['9.3418332730097368870513138581415704704611459349313e+49', '-9.3418332730097368870513138581415704704611459349313e+49'],
		];
	}
}